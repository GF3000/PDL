fun calcular_first(simbolo):

    if (simbolo es terminal)
        return {simbolo}

    if (simbolo ya calculado)
        return first[simbolo]

    #Si estamos aqui es que es un simbolo nuevo y no terminal
    for produccion in producciones[simbolo]:
        if (produccion vacia)
            añadimos vacio a first[simbolo]
        else
            for simbolo in produccion
                if (simbolo no temrinal con simbolo vacio en su first)
                    Calcular el conjunto first del simbolo no terminal
                else:
                    Calcular el conjunto first del simbolo no terminal
                    Detener bucle

    return first


fun calcular_follow (simbolo):
    
    if (simbolo ya calculado)
        return follow[simbolo]

    if (simbolo es S)
        añadimos $ a follow[simbolo]

    for no terminal in gramatica:
        for produccion in producciones[no terminal]:
            for simbolo2 en produccion in produccion:
                if (simbolo2 = simbolo)
                    if (simbolo es el ultimo de la produccion)
                        if (no terminal != simbolo)
                            añadimos follow[no terminal] a follow[simbolo] 

                    else
                        calcular el conjunto first del siguiente simbolo
                        if (simbolo vacion en el conjunto first del siguiente simbolo)
                            calcular el conjunto follow del no terminal y añadirlo a follow[simbolo]
                            calcular el conjunto follow del siguiente simbolo sin simbolo vacio y añadirlo a follow[simbolo]
                        else
                            calcular el conjunto follow del siguiente simbolo y añadirlo a follow[simbolo]
    return follow

